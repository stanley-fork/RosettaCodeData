with javascript_semantics

function shell_sort(sequence s)
    integer gap = floor(length(s)/2), j
    while gap>0 do
        for i=gap to length(s) do
            object si = s[i]
            j = i-gap
            while j>=1 and si<=s[j] do
                s[j+gap] = s[j]
                j -= gap
            end while
            s[j+gap] = si
        end for
        gap = floor(gap/2)
    end while
    return s
end function

?shell_sort(shuffle(tagset(10)))
