with javascript_semantics

function pancake_sort(sequence s)
    s = deep_copy(s)
    for i=length(s) to 2 by -1 do
        integer m = largest(s[1..i],true)
        if m<i then
            if m>1 then
                s[1..m] = reverse(s[1..m])
            end if
            s[1..i] = reverse(s[1..i])
        end if
    end for
    return s
end function

constant s = shuffle(tagset(10))
? s
? pancake_sort(s)
